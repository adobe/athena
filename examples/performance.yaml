name: perf
description: someDescr
engine: autocannon
type: perfTest
dependecy:
  - name: cceco
    type: api # ??
hooks:
  skip:
  onInit:
  onDestroy:
  onRequest:
  onResponse:
config:
  timeout: 60
  host:
  path:
  headers:
  debug: true | false
  threads: 100
  connections: 1000
  keepalive: true
  rps: 3000
scenario:
  run:
    - ref: "prod"
      version: "1.0"
      config: # Default config for perfRuns
        url: "http://35.246.128.128/"
        socketPath: "" # not implemented
        connections: ""
        duration: ""
        amount: "" # overrides duration
        timeout: ""
        pipelining: ""
        bailout: ""
        method: ""
        title: ""
        body: ""
        headers: "" # object
        maxConnectionRequests: ""
        connectionRate: ""
        overallRate: ""
        reconnectRate: ""
        requests: # Array of objects.
        idReplacement: "" # Not supported yet
        forever: "" # bool
        servername: ""
        excludeErrorStats: "" # boolean
  pattern:
    - ref: "prod"
      version: "1.0"
      config:
        #needed config for pattern
      rampUp:
        every: 10s #or fixed
        rps: 10
        connections: 10
        threads:
        fixed: 30s #or every
      coolDown:
        every: 10s #or fixed
        rps: 10
        threads:
        connections: 10
        fixed: 30s #or every
      spike:
        every: 10s #or fixed
        rps: 10
        threads:
        connections: 10
        fixed: 30s #or every if fixed you need to specify after
        after: 30s

